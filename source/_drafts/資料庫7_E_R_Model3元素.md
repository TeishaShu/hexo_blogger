---
title: 資料庫(7) - E-R Model 3個元素
tags: 資料庫
categories: 資料庫
---
- 繪製重要3個元素: Entity、Attributes、Relationships
- 資料庫系統設計時的標準工具，以「圖形化」的方式表達儲存在資料庫內的各種「資料之間的關係、資料特性」。
- 資料彼此特殊關係要弄清楚，公司資料怎麼跑會顯示在上面，E-R Model 畫不好，後續資料庫建再棒也沒用，分析師畫好再跟使用者確認，再進行後續的資料庫設計工作。
<!--more-->

### 3區塊: Entity、Attributes、Relationships
#### Entity(個體、表格)
每筆實際的資料
- 圖形: 方塊
- 名稱組合:
  - 1種組合: Instance(實例)、Entity(個體)
  - 另種組合: Entity(個體)、Entity Type(個體型態)
- 又稱強勢個體 Strong Entity

- cf: 弱個體 Weak Entity
  又稱附屬個體，圖形雙實線方塊
  需要依附一個體。ex:員工的眷屬，員工離職後眷屬的資料不用了。

#### Attributes(屬性)
跟前幾篇的屬性一樣。
ex:員工(Entity)->(Attributes有3個)姓名、住址、性別、薪水
- 圖形: 橢圓形
- 屬性5種型態:
  1. 一般屬性(General Atttibutes): 每個值不能再分割。一般橢圓(單層)
  2. 複合屬性(Composite Atttibutes): 屬性可以分割更小的屬性。ex:名字(姓+名)、生日(年+月+日)。一般橢圓，一個橢圓上又長其他橢圓。
  3. 多值屬性(Multivalued Atttibutes): 一個資料可以存很多筆。(ex:手機有很多個電話)，雙環橢圓形(雙條線的橢圓)
  4. 衍生屬性(Derived Atttibutes): 屬性的值由其他屬性計算出來。(ex:年齡.從生日計算出來)。虛線橢圓。
  5. 鍵值屬性(Key Atttibutes): 具備唯一性、最小性，像是主鍵、候選鍵。名稱底下有實底線。(一個個體中如果有多個鍵值屬性，代表鍵值屬性要這些屬性一起)

#### Relationships(關係)
不同個體之間隱含的關聯繫。=>動詞.動作關係
- 圖形: 菱形
- 名詞注意:
  - 關系型態的「階度、幾層」 Degree: 連接到幾個個體數，如果是4個以上會思考能不能拆解。
  - 基數率 Cardinality Ratio: 1對1(1:1)、1對多(1:N)、多對多(M:N)
  - 參與限制 Participation Constraint: 
    >全部參與: 
    個體中的「所有實例需要依靠」另一個個體產生關連而存在。
    圖形中畫雙線。
    ex:每個試用產品一定會被客戶使用。
    >部分參與: 
    個體中的實例「不需要全部依靠」另一個個體產生關連而存在。
    圖形中畫單線。
    ex:每個客戶不一定去都會使用試用產品。
  - 關係型態的屬性: 菱形上面有橢圓形，代表2個個體間的來往中產生的屬性。
    ex: 客戶-訂購-產品。訂購中產生數量的屬性
  - 辨認關係 Identifying Relationship: 連接弱個體(雙實線方框)的關係型態，這邊也是雙實線菱形。在正規化需要特別處理所以標示出來。