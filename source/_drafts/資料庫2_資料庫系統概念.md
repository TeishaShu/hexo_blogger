---
title: 資料庫(2) - 資料庫系統概念
tags: 資料庫
categories: 資料庫
---
一拿到問題不是直接寫程式，先分析問題，根據問題設計演算法寫在紙上，最後看效益、各方面好不好，確定不錯在實際上機寫出來。
資料庫也需要經過紙上設計的步驟。
當公司有一堆資料想要建構系統時，透過紙上分析、設計要怎麼做。
<!--more-->

### Database System 資料庫系統 
1. = Database(DB，存資料的地方) + DBMS(控管資料庫運作.決定價格差異)
ex:Oracle(大企業), SQL Server(中企業),DB2, MySQL(小企業、自接案), ....
2. 不用資料庫系統:
  - 資料、應用程式很簡單、不常改變
  - 不會有多使用者同時存取
  - 未來擴充可能性小
  - 非常嚴格的即時性需求 ex:飛彈中的微型資訊(存取太慢.因為需要使用 DBMS)
3. 使用者:
  - 小型個人化: 一人可以定義、建構、操作資料庫，通常不會多人共享。
  - 大型組織: 許多人參與大型資料課的設計、使用、維護。
  -資料庫管理師 DBA: 資料庫設計製造(偏實作建構、安全、錯誤管理_備份.回復策略、效能)，開發時要把外部需求明確化。
  -資料庫設計師 DBD: 資料庫設計製造(跟使用者溝通後.做紙上的分析、設計)
  -軟體工程師 SE: 設計介面幫使用者存取資料
  -終端使用者: 一般操作的人純粹使用資料進行日常工作

#### 資料庫 Database (DB)
- 一群相關資料，以系統化有效率、減少重複性的儲存。
- 一個資料庫為特定需求、目的而被建構，透過資料庫管理系統來管理資料(DBMS)。

#### DBMS:
- 定義: 資料存的格式、型態、條件
- 建構: 實際建資料表格
- 操作: 查詢、更新
- 共用: 多使用者、程式同時存取使用。資料控管沒弄好資料會亂掉。
- 優點: 避免資料重複.不一致、權限控管(透過帳號、密碼)、資料獨立性(後端程式跟資料分開)

-------------------------------------------------------------------
### Meta-data 
- 又稱:表頭(中繼資料、詮釋資料、敘述性資料)、Schema(綱要、綱目)。
用來描述資料的資料。
- 型態、儲存格式(ex:char(10)、int....)
- 資料間的關係、各種限制: ex:唯一性
- 實際儲存結構: 循序檔、索引檔、雜湊檔...
- 表格中每一筆紀錄稱為實例(Instance)


#### 比較 Schema 的各種說法:
1. 同 Meta-data，對資料的描述(表頭)。
2. 無法表現資料的關係、限制，把 Schema 資料跟他無法呈現的資料，合起來 Meta-data。(ex:表頭名稱叫 Schema，對應到什麼資料、型態等等是 Meta-data)

-------------------------------------------------------
<!-- 
https://www.youtube.com/watch?v=jrDdyXDPJes&list=PLpbuzGqDFzkjVESK1m9zElyCER2xCiHU-&index=9
資料庫系統概論

這邊有圖輔助比較好理解
 -->
### Three-Schema Architecture
ANSI/SPARC 架構。
三個不同的層次(角度)看架設的資料庫系統。
真正儲存在硬碟(ex: Cylinder、Sector、Track)

> Data Independence 資料獨立性
> 3層架構有一層 schema 改變，不會影響上層的 schema。
> (底層架構改變不會影響上層資料使用，資料庫系統改變只要修改 DBMS，不用更改資料庫相關程式)

- External schema(外部綱要)
-使用層(不同使用者需要資料不同、 權限可以看的資料)
-邏輯資料獨立性: 對應到概念剛要(ex: 使用者看到一排名子，對應到概念層的 Name。看到 Age 對應到概念層的 Birthday 計算過來。)

- Conceptual schema(概念綱要)
-以全體使用者為主，資料庫整體的架構、資料型態、關係與操作限制。
-知道有什麼資料，不知道實際的結構。
-實際資料獨立性: 對應到內部剛要(ex: 實體的資料結構改變使用上)

- Internal schema(內部綱要)
資料實際儲存的方式。(存在什麼路徑、資料結構是樹狀還是圖形、有沒有索引檔)

#### 外部層 External Level
- 概念角度: 一般使用者
- 部分資料: 不同使用者看到的不同。(虛擬表格)
一樣的資料，不同人需要的欄位不一樣
- 工作負責: 軟體工程師 SE、資料庫設計師 DBD

#### 概念層 Conceptual Level
- 概念角度: 資料庫管理師 DBA
- 整體、完整性資料。(真實資料:基礎表格、二維表格)
- 工作負責: 資料庫管理師 DBA

#### 內部層 Internal Level
- 概念角度: 軟體設計、資料庫系統設計者。
- 資料實際儲存的結構或檔案組織。
為了加快存取，容易是樹狀結構、索引檔。
- 工作負責: 資料庫管理師 DBA

### Three Tier Architecture
Client ---(http)---> Application Agent ---(ODBC/JDBE)---> Server

- Client: (Brower).使用者介面
- Application Agent: (Web Server).負責企業應用需求的規劃、2端的溝通。
會讓 Client 安裝的內容比較少.導致系統需求較低，也整合後端不同 Server 統一內部資料
- Server: (DB Server).資料庫資料存取

#### Three Tier架構比較
##### Client/Server 架構
- 優點: Client 端本身的運算能力分擔 Server 端處理資料的負荷
- 缺點: 不同類型的 Server 需要不同介面在 Client 端使用，Client 越多，Server 負擔越重。

##### Three Tier Architecture 架構
- 優點: 2端中間有 Application Agent 整合，很多功能在 Client 只要對單一 Agent 介面即可。
- 缺點: 規模擴大時，中間端會負擔過大，慢慢增加很多台來負擔。

### 分散式資料庫系統 Distributed Database System
邏輯上是單一資料庫系統，實際上資料是分散在網路多個地方(Database System)，透過分散來管理。
ex:全球性的公司，撈不同地點分公司的資料

跟上面的比較:上面 Client 直接拿或有 Agent 都需要知道資料要去哪裡拿。分散式使用者下指令後，不用知道資料從哪個機器被拿出來，所以被視為單一的資料庫系統。

- 特性:透通性 Transparency: 不用了解細節，就可以正常運作。
  -分為7種透通性集中在分散式，所以讓使用者感覺是大的機器容易使用。(不用了解各個細節操作、機器在的位置、不同架構的網路但是都可以連、可以同時很多人在用不會有問題)
  -有時候同一個資料會重複是必要的，增加存取的效率、備份。不用管資料是備份資料、原始資料，使用者只要拿到就可以
  -A地點的機器掛了會自動移動到其他地方，仍然可以使用。

-------------------------------------------------------
資料來源:杰哥數位教室