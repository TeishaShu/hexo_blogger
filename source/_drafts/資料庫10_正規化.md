---
title: 資料庫 - 正規化
tags: 資料庫
categories: 資料庫
---
正規化的階層有很多架構，越嚴格資料表分割越細膩。
不是正規化越細膩越好，太多資料表可能查詢越困難，滿足需求就可以，通常滿足第3正規化(3NF)就可以用了，不會資料表太細操作上也還可以。
<!--more-->

### 目的
- 降低資料重複性
- 避免資料更新異常

### 關鍵
功能性的相依
ex:學號為主，學生、姓名、監護人都有關係，監護人的電話跟監護人有關係，但是跟學號是傳遞性的功能相依。

### 第一正規化 1NF
所屬欄位的內容都是單元值(Atomic Value)。
每個欄位的內容都是最小單位，不可在分割，如果需要分割再另外設計資料表的欄位。
ex: 張某某(09xxxxxxx)，會分成2個欄位名字、手機，不會存在同一欄。

### 第二正規化 2NF
除了符合第一正規化的特性外，所有欄位都必須跟主鍵功能相依。
太多主鍵在一張表遇到的問題:
- 新增: 不相關欄位 null
- 編輯: 與主鍵無關的其他欄位修改，那欄位資料可能不同步導致無法管理
- 刪除: 刪除一筆資料，其他需要的地方找不到資料

因此一張表需要功能相依性，太多主鍵功能要開不同的表。
ex: 一張表的目的是: 學生個人資料，一張表是: 課程資料，都放在同一張表的化，資料的管理、整合性、彈性反而變差，應該要分2張表根據不同目的管理。

### 第三正規化 3NF
除了符合前2個正規化的特性外，沒有跟其他欄位相依。
(第二個是有相關，第三個是沒相關的不要放)
