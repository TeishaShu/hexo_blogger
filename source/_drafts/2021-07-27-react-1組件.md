---
title: React 組件組成的2種方式
tags: React
categories: React
---
組件：實現局部程式的集合(包含：html 結構、css 樣式、js 互動)
在瀏覽器插件(Components)中，組件會有屬性(props)、rendered by 由哪個版本的 react 渲染


#### A. 函數式組件 function 
- 使用 function 輸出
- 組件的首字要大寫，小寫會被當成 html 標籤元素(並且找不到)
- this 是 undefined，下面的函式透過標籤被使用，react 幫忙執行。
整個程式透過 babel 翻譯，並使用嚴格模式 use strict (禁止自定義的 this 指向 window)，所以變成 undefined。
- 執行流程：
a. 解析組件標籤 => 找到 Demo 組件
b. 組件是函式定義的 => 使用這函式 => 把 return 後的值(虛擬 DOM 轉真實的 DOM) 呈現在面中
```
function Demo() {
  console.log(this)
  return <p>我是函式組件</p>
}

ReactDOM.render(<Demo/>, document.getElementById('test'))
```

#### B. 類式組件 class
1. 需要繼承 React.Component
2. 需要使用 render、return ([官方文件-往下滑有範例說明](https://zh-hant.reactjs.org/))
3. 使用方式同函式組件
```
class Demo extends React.Component{
  render() {
    return (<div>Hello {this.props.name}</div>);
  }
}

ReactDOM.render(<Demo/>, document.getElementById('test')); //都是 <Demo/> 這樣使用的。
```

上面的解釋：
React 解析組件標籤 <Demo/> ，並找到 Demo 的組件。
組件是 class 定義的，接著 new 出來這 class 的 instance，


比較 class 的解釋：
1. 原本用 class 需要使用「new」才能用。
2. 下面定義的變數(m1)是 class Malzis 的實例對象(Instance)。
```
class Dog {
  constructor(name, food){
    this.name = name;
    this.food = food;
  }

  hungry() {
    console.log(`${this.name}肚子餓了，想吃${this.food}`)
  }
}
 
// 繼承
class Malzis extends Dog { 
  constructor(name, food, color){
    super(name, food); 
    this.color = color;
  }
}

const m1 = new Malzis('小馬爾濟斯', '肉乾', '白'); // m1 透過「new」使用 class 的 Malzis。  
console.log(m1)

ReactDOM.render(<Demo/>, document.getElementById('test'));
```



---------------------
react 的 class 組件的實例對象 Instance 中，有很多方法
其中 state、props、refs、context 幾個比較重要需要認識。

組件3大屬性：props、refs、state
